<h1>Shipment List</h1>
<hr>
<div class="card mb-3">
  <div class="card-header">
    <i class="fa fa-table"></i> Landing Page
  </div>
  <div class="card-body">
    <form [formGroup] = "shipForm">
      <div class="form-group">
        <div class="form-row">
          <div class="col-md-3"></div>
          <div class="col-md-3">            
            <div class="form-check">
              <input class="form-check-input" type="radio" (change)="checkFunc()" formControlName="checker" [value]="0">
              <label class="form-check-label">
                By Shipment Status <strong>(Open)</strong>
              </label>
            </div>
          </div>
          <div class="col-md-3"></div>
          <div class="col-md-3"><label class='control-label'></label></div>
        </div>
      </div>
      <div class="form-group">
        <div class="form-row">
          <div class="col-md-3"></div>
          <div class="col-md-3">            
            <div class="form-check">
              <input class="form-check-input" type="radio" (change)="checkFunc()" formControlName="checker" [value]="1">
              <label class="form-check-label">
                By Bill Of Lading
              </label>
            </div>
          </div>
          <div class="col-md-3"></div>
          <div class="col-md-3"><label class='control-label'></label></div>
        </div>
      </div>
      <div class="form-group">
        <div class="form-row">
          <div class="col-md-3"></div>
          <div class="col-md-6">      
              <input type="text" class="form-control" 
              placeholder="Bill No."
              formControlName="billOfLading"
              [maxLength]="20"
              autofocus>
          </div>
          <div class="col-md-3"><label class='control-label'></label></div>
        </div>
      </div>
      <div class="form-group">
        <div class="form-row">
          <div class="col-md-3"></div>
          <div class="col-md-3">            
            <div class="form-check">
              <input class="form-check-input" type="radio" (change)="checkFunc()" formControlName="checker" [value]="2">
              <label class="form-check-label">
                By Depature Date Range
              </label>
            </div>
          </div>
          <div class="col-md-3">            
              <div class="form-check">
                <input class="form-check-input" type="radio" (change)="checkFunc()" formControlName="checker" [value]="3">
                <label class="form-check-label">
                  By Arrival Date Range
                </label>
              </div>
            </div>
          <div class="col-md-3"><label class='control-label'></label></div>
        </div>
      </div>
      <div class="form-group">
          <div class="form-row">
            <div class="col-md-3"></div>
            <div class="col-md-3">            
              <div class="input-group">
                <input class="form-control" placeholder="From Date"
                  name="dp" formControlName="fromDate" 
                  ngbDatepicker 
                  #d1="ngbDatepicker"
                  [minDate]="minDate">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary fa fa-calendar" (click)="d1.toggle()" type="button"></button>
                </div>
              </div>
            </div>
            <div class="col-md-3">            
              <div class="input-group">
                <input class="form-control" placeholder="To Date"
                  name="dp" formControlName="toDate" 
                  ngbDatepicker 
                  #d2="ngbDatepicker"
                  [minDate]="minDate">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary fa fa-calendar" (click)="d2.toggle()" type="button"></button>
                </div>
              </div>
            </div>
            <div class="col-md-3"><label class='control-label'></label></div>
          </div>
        </div>
      <div class="form-group">
          <div class="form-row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
              <button type="button" class="btn btn-primary btn-block col-md-2 right" (click)="searchFunc()">Search</button>
            </div>
            <div class="col-md-3"></div>
          </div>
      </div>
    </form>
    <div class="table-responsive-sm">
      <table class="table table-bordered table-hover">
        <thead class="thead-light">
        <tr>
          <th scope="col" *ngFor="let title of dataTable.headers" class="text-center">{{title}}</th>
        </tr>
        </thead>
        <tbody>
        <tr scope="row" *ngFor="let item of dataTable.dataArr; let i = index">
          <td class="text-center">{{i+1}}</td>
          <td class="text-center">{{item.billOfLading}}</td>
          <td class="text-center">{{item.origin}}</td>
          <td class="text-center">{{item.actDepartureDate | date:'dd/MM/yyyy'}}</td>
          <td class="text-center">{{item.destination}}</td>
          <td class="text-center">{{item.estArrivalDate | date:'dd/MM/yyyy'}}</td>
          <td class="text-center">
            <button type="button" class="btn btn-link text-primary" (click)="onSelect(item)"> Edit</button>
            <button type="button" class="btn btn-link text-danger" (click)="onDelete(item)" [disabled]="item.isClosed"> Delete</button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="card-footer small text-muted">Total {{dataTable.rowsNo}} entries</div>
</div>